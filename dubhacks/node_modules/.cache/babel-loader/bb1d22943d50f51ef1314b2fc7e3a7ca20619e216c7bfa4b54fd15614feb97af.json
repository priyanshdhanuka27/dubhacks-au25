{"ast":null,"code":"import _objectWithoutProperties from\"/Users/rishivora/Documents/Coding/Hackathons/dubhacks-au25/dubhacks/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _objectSpread from\"/Users/rishivora/Documents/Coding/Hackathons/dubhacks-au25/dubhacks/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const _excluded=[\"dateRange\"],_excluded2=[\"location\"],_excluded3=[\"priceRange\"];import React,{useState}from'react';import{searchService}from'../../services/searchService';import'./SearchComponents.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const FilterPanel=_ref=>{var _localFilters$dateRan,_localFilters$dateRan2,_localFilters$dateRan3,_localFilters$locatio,_localFilters$locatio2,_localFilters$locatio3,_localFilters$priceRa,_localFilters$priceRa2,_localFilters$keyword;let{filters,onFiltersChange}=_ref;const[isExpanded,setIsExpanded]=useState(false);const[localFilters,setLocalFilters]=useState(filters);const categories=searchService.getPopularCategories();const handleDateRangeChange=(field,value)=>{const newDate=value?new Date(value):undefined;const currentDateRange=localFilters.dateRange;// Create new date range object with the updated field\nconst updatedDateRange={startDate:field==='startDate'?newDate:currentDateRange===null||currentDateRange===void 0?void 0:currentDateRange.startDate,endDate:field==='endDate'?newDate:currentDateRange===null||currentDateRange===void 0?void 0:currentDateRange.endDate};// Only include dateRange if at least one date is set\nif(updatedDateRange.startDate||updatedDateRange.endDate){// Only set dateRange if we have at least one valid date\nconst validDateRange={};if(updatedDateRange.startDate)validDateRange.startDate=updatedDateRange.startDate;if(updatedDateRange.endDate)validDateRange.endDate=updatedDateRange.endDate;setLocalFilters(_objectSpread(_objectSpread({},localFilters),{},{dateRange:validDateRange}));}else{// Remove dateRange if both dates are empty\nconst{dateRange}=localFilters,filtersWithoutDateRange=_objectWithoutProperties(localFilters,_excluded);setLocalFilters(filtersWithoutDateRange);}};const handleLocationChange=(field,value)=>{const newFilters=_objectSpread(_objectSpread({},localFilters),{},{location:_objectSpread(_objectSpread({},localFilters.location),{},{[field]:value||undefined})});// Remove location if all fields are empty\nconst locationFields=Object.values(newFilters.location||{});if(locationFields.every(val=>!val)){const{location}=newFilters,filtersWithoutLocation=_objectWithoutProperties(newFilters,_excluded2);setLocalFilters(filtersWithoutLocation);return;}setLocalFilters(newFilters);};const handleCategoryToggle=category=>{const currentCategories=localFilters.categories||[];const newCategories=currentCategories.includes(category)?currentCategories.filter(c=>c!==category):[...currentCategories,category];const newFilters=_objectSpread(_objectSpread({},localFilters),{},{categories:newCategories.length>0?newCategories:undefined});setLocalFilters(newFilters);};const handlePriceRangeChange=(field,value)=>{const numValue=value?parseFloat(value):undefined;const currentPriceRange=localFilters.priceRange;// Create updated price range\nconst updatedPriceRange={min:field==='min'?numValue:currentPriceRange===null||currentPriceRange===void 0?void 0:currentPriceRange.min,max:field==='max'?numValue:currentPriceRange===null||currentPriceRange===void 0?void 0:currentPriceRange.max};// Only include priceRange if at least one value is set\nif(updatedPriceRange.min!==undefined||updatedPriceRange.max!==undefined){// Only set priceRange if we have at least one valid value\nconst validPriceRange={};if(updatedPriceRange.min!==undefined)validPriceRange.min=updatedPriceRange.min;if(updatedPriceRange.max!==undefined)validPriceRange.max=updatedPriceRange.max;setLocalFilters(_objectSpread(_objectSpread({},localFilters),{},{priceRange:validPriceRange}));}else{// Remove priceRange if both values are empty\nconst{priceRange}=localFilters,filtersWithoutPriceRange=_objectWithoutProperties(localFilters,_excluded3);setLocalFilters(filtersWithoutPriceRange);}};const handleKeywordsChange=value=>{const keywords=value.split(',').map(k=>k.trim()).filter(k=>k.length>0);const newFilters=_objectSpread(_objectSpread({},localFilters),{},{keywords:keywords.length>0?keywords:undefined});setLocalFilters(newFilters);};const applyFilters=()=>{onFiltersChange(localFilters);};const clearFilters=()=>{const emptyFilters={};setLocalFilters(emptyFilters);onFiltersChange(emptyFilters);};const hasActiveFilters=()=>{return Object.keys(localFilters).length>0;};const formatDateForInput=date=>{if(!date)return'';return date.toISOString().split('T')[0];};return/*#__PURE__*/_jsxs(\"div\",{className:\"filter-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-header\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"filter-toggle\",onClick:()=>setIsExpanded(!isExpanded),children:[/*#__PURE__*/_jsx(\"span\",{children:\"Filters\"}),/*#__PURE__*/_jsx(\"span\",{className:\"toggle-icon \".concat(isExpanded?'expanded':''),children:\"\\u25BC\"}),hasActiveFilters()&&/*#__PURE__*/_jsx(\"span\",{className:\"active-indicator\",children:\"\\u25CF\"})]}),hasActiveFilters()&&/*#__PURE__*/_jsx(\"button\",{className:\"clear-filters-btn\",onClick:clearFilters,children:\"Clear All\"})]}),isExpanded&&/*#__PURE__*/_jsxs(\"div\",{className:\"filter-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Date Range\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"date-inputs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"start-date\",children:\"From:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"start-date\",type:\"date\",value:formatDateForInput((_localFilters$dateRan=localFilters.dateRange)===null||_localFilters$dateRan===void 0?void 0:_localFilters$dateRan.startDate),onChange:e=>handleDateRangeChange('startDate',e.target.value),min:new Date().toISOString().split('T')[0]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"end-date\",children:\"To:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"end-date\",type:\"date\",value:formatDateForInput((_localFilters$dateRan2=localFilters.dateRange)===null||_localFilters$dateRan2===void 0?void 0:_localFilters$dateRan2.endDate),onChange:e=>handleDateRangeChange('endDate',e.target.value),min:formatDateForInput((_localFilters$dateRan3=localFilters.dateRange)===null||_localFilters$dateRan3===void 0?void 0:_localFilters$dateRan3.startDate)||new Date().toISOString().split('T')[0]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Location\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"location-inputs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"city\",children:\"City:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"city\",type:\"text\",placeholder:\"e.g., Seattle\",value:((_localFilters$locatio=localFilters.location)===null||_localFilters$locatio===void 0?void 0:_localFilters$locatio.city)||'',onChange:e=>handleLocationChange('city',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"state\",children:\"State:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"state\",type:\"text\",placeholder:\"e.g., WA\",value:((_localFilters$locatio2=localFilters.location)===null||_localFilters$locatio2===void 0?void 0:_localFilters$locatio2.state)||'',onChange:e=>handleLocationChange('state',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"radius\",children:\"Radius (miles):\"}),/*#__PURE__*/_jsx(\"input\",{id:\"radius\",type:\"number\",placeholder:\"25\",min:\"1\",max:\"500\",value:((_localFilters$locatio3=localFilters.location)===null||_localFilters$locatio3===void 0?void 0:_localFilters$locatio3.radius)||'',onChange:e=>handleLocationChange('radius',parseInt(e.target.value))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Categories\"}),/*#__PURE__*/_jsx(\"div\",{className:\"categories-grid\",children:categories.map(category=>{var _localFilters$categor;return/*#__PURE__*/_jsxs(\"label\",{className:\"category-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:((_localFilters$categor=localFilters.categories)===null||_localFilters$categor===void 0?void 0:_localFilters$categor.includes(category))||false,onChange:()=>handleCategoryToggle(category)}),/*#__PURE__*/_jsx(\"span\",{children:category})]},category);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Price Range\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price-inputs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"min-price\",children:\"Min ($):\"}),/*#__PURE__*/_jsx(\"input\",{id:\"min-price\",type:\"number\",placeholder:\"0\",min:\"0\",value:((_localFilters$priceRa=localFilters.priceRange)===null||_localFilters$priceRa===void 0?void 0:_localFilters$priceRa.min)||'',onChange:e=>handlePriceRangeChange('min',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"max-price\",children:\"Max ($):\"}),/*#__PURE__*/_jsx(\"input\",{id:\"max-price\",type:\"number\",placeholder:\"1000\",min:\"0\",value:((_localFilters$priceRa2=localFilters.priceRange)===null||_localFilters$priceRa2===void 0?void 0:_localFilters$priceRa2.max)||'',onChange:e=>handlePriceRangeChange('max',e.target.value)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Keywords\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"keywords\",children:\"Keywords (comma-separated):\"}),/*#__PURE__*/_jsx(\"input\",{id:\"keywords\",type:\"text\",placeholder:\"e.g., networking, startup, tech\",value:((_localFilters$keyword=localFilters.keywords)===null||_localFilters$keyword===void 0?void 0:_localFilters$keyword.join(', '))||'',onChange:e=>handleKeywordsChange(e.target.value)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"apply-filters-btn\",onClick:applyFilters,children:\"Apply Filters\"})})]})]});};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}