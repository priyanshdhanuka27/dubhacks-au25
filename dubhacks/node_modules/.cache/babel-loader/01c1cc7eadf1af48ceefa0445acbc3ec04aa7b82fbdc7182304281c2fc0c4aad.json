{"ast":null,"code":"import _objectSpread from\"/Users/rishivora/Documents/Coding/Hackathons/dubhacks-au25/dubhacks/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useAuth}from'../../contexts/AuthContext';import'./AuthForms.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Common timezones for the dropdown\nconst COMMON_TIMEZONES=[{value:'America/New_York',label:'Eastern Time (ET)'},{value:'America/Chicago',label:'Central Time (CT)'},{value:'America/Denver',label:'Mountain Time (MT)'},{value:'America/Los_Angeles',label:'Pacific Time (PT)'},{value:'America/Anchorage',label:'Alaska Time (AKT)'},{value:'Pacific/Honolulu',label:'Hawaii Time (HT)'},{value:'UTC',label:'UTC'}];export function RegisterForm(_ref){let{onSuccess,onSwitchToLogin}=_ref;const{register,state,clearError}=useAuth();const[formData,setFormData]=useState({email:'',password:'',confirmPassword:'',firstName:'',lastName:'',timezone:'America/New_York'// Default to Eastern Time\n});const[formErrors,setFormErrors]=useState([]);const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));// Clear errors when user starts typing\nif(formErrors.length>0){setFormErrors([]);}if(state.error){clearError();}};const handleSubmit=async e=>{e.preventDefault();setFormErrors([]);// Client-side validation\nconst errors=[];if(!formData.email.trim()){errors.push('Email is required');}else if(!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)){errors.push('Please enter a valid email address');}if(!formData.password){errors.push('Password is required');}else if(formData.password.length<8){errors.push('Password must be at least 8 characters long');}else if(!/(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/.test(formData.password)){errors.push('Password must contain at least one uppercase letter, one lowercase letter, and one number');}if(formData.password!==formData.confirmPassword){errors.push('Passwords do not match');}if(!formData.firstName.trim()){errors.push('First name is required');}else if(formData.firstName.trim().length<2){errors.push('First name must be at least 2 characters long');}if(!formData.lastName.trim()){errors.push('Last name is required');}else if(formData.lastName.trim().length<2){errors.push('Last name must be at least 2 characters long');}if(!formData.timezone){errors.push('Please select a timezone');}if(errors.length>0){setFormErrors(errors);return;}try{const result=await register(formData);if(result.success&&onSuccess){onSuccess();}}catch(error){console.error('Registration form error:',error);}};const displayErrors=formErrors.length>0?formErrors:state.error?[state.error]:[];return/*#__PURE__*/_jsx(\"div\",{className:\"auth-form-container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"auth-form\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"auth-form-title\",children:\"Create Account\"}),displayErrors.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"auth-form-errors\",children:displayErrors.map((error,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"auth-form-error\",children:error},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",className:\"auth-form-label\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"firstName\",name:\"firstName\",value:formData.firstName,onChange:handleInputChange,className:\"auth-form-input\",placeholder:\"Enter your first name\",required:true,autoComplete:\"given-name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",className:\"auth-form-label\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"lastName\",name:\"lastName\",value:formData.lastName,onChange:handleInputChange,className:\"auth-form-input\",placeholder:\"Enter your last name\",required:true,autoComplete:\"family-name\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"auth-form-label\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange,className:\"auth-form-input\",placeholder:\"Enter your email\",required:true,autoComplete:\"email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"timezone\",className:\"auth-form-label\",children:\"Timezone\"}),/*#__PURE__*/_jsx(\"select\",{id:\"timezone\",name:\"timezone\",value:formData.timezone,onChange:handleInputChange,className:\"auth-form-select\",required:true,children:COMMON_TIMEZONES.map(tz=>/*#__PURE__*/_jsx(\"option\",{value:tz.value,children:tz.label},tz.value))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"auth-form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:formData.password,onChange:handleInputChange,className:\"auth-form-input\",placeholder:\"Create a password\",required:true,autoComplete:\"new-password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-form-hint\",children:\"Password must be at least 8 characters with uppercase, lowercase, and number\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",className:\"auth-form-label\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirmPassword\",name:\"confirmPassword\",value:formData.confirmPassword,onChange:handleInputChange,className:\"auth-form-input\",placeholder:\"Confirm your password\",required:true,autoComplete:\"new-password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"auth-form-submit\",disabled:state.loading,children:state.loading?'Creating Account...':'Create Account'}),onSwitchToLogin&&/*#__PURE__*/_jsx(\"div\",{className:\"auth-form-switch\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onSwitchToLogin,className:\"auth-form-switch-button\",children:\"Sign In\"})]})})]})});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}