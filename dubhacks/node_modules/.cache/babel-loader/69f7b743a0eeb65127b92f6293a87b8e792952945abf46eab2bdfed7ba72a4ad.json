{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate,useLocation}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{LoginForm}from'../components/auth/LoginForm';import{RegisterForm}from'../components/auth/RegisterForm';import'./AuthPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function AuthPage(){var _location$state,_location$state$from;const[mode,setMode]=useState('login');const{isAuthenticated}=useAuth();const navigate=useNavigate();const location=useLocation();// Get the intended destination from location state\nconst from=((_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||'/dashboard';// Redirect if already authenticated\nuseEffect(()=>{if(isAuthenticated){navigate(from,{replace:true});}},[isAuthenticated,navigate,from]);const handleAuthSuccess=()=>{navigate(from,{replace:true});};const handleSwitchToRegister=()=>{setMode('register');};const handleSwitchToLogin=()=>{setMode('login');};return/*#__PURE__*/_jsxs(\"div\",{className:\"auth-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"auth-page-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-page-logo\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"EventSync\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Discover events with AI-powered search\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-page-content\",children:mode==='login'?/*#__PURE__*/_jsx(LoginForm,{onSuccess:handleAuthSuccess,onSwitchToRegister:handleSwitchToRegister}):/*#__PURE__*/_jsx(RegisterForm,{onSuccess:handleAuthSuccess,onSwitchToLogin:handleSwitchToLogin})}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-page-footer\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\xA9 2024 EventSync. All rights reserved.\"})})]});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","useAuth","LoginForm","RegisterForm","jsx","_jsx","jsxs","_jsxs","AuthPage","_location$state","_location$state$from","mode","setMode","isAuthenticated","navigate","location","from","state","pathname","replace","handleAuthSuccess","handleSwitchToRegister","handleSwitchToLogin","className","children","onSuccess","onSwitchToRegister","onSwitchToLogin"],"sources":["/Users/bhuvangundela/Desktop/Projects/dubhacks-au25/dubhacks/src/pages/AuthPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { LoginForm } from '../components/auth/LoginForm';\nimport { RegisterForm } from '../components/auth/RegisterForm';\nimport './AuthPage.css';\n\ntype AuthMode = 'login' | 'register';\n\nexport function AuthPage() {\n  const [mode, setMode] = useState<AuthMode>('login');\n  const { isAuthenticated } = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  // Get the intended destination from location state\n  const from = (location.state as any)?.from?.pathname || '/dashboard';\n\n  // Redirect if already authenticated\n  useEffect(() => {\n    if (isAuthenticated) {\n      navigate(from, { replace: true });\n    }\n  }, [isAuthenticated, navigate, from]);\n\n  const handleAuthSuccess = () => {\n    navigate(from, { replace: true });\n  };\n\n  const handleSwitchToRegister = () => {\n    setMode('register');\n  };\n\n  const handleSwitchToLogin = () => {\n    setMode('login');\n  };\n\n  return (\n    <div className=\"auth-page\">\n      <div className=\"auth-page-header\">\n        <div className=\"auth-page-logo\">\n          <h1>EventSync</h1>\n          <p>Discover events with AI-powered search</p>\n        </div>\n      </div>\n\n      <div className=\"auth-page-content\">\n        {mode === 'login' ? (\n          <LoginForm\n            onSuccess={handleAuthSuccess}\n            onSwitchToRegister={handleSwitchToRegister}\n          />\n        ) : (\n          <RegisterForm\n            onSuccess={handleAuthSuccess}\n            onSwitchToLogin={handleSwitchToLogin}\n          />\n        )}\n      </div>\n\n      <div className=\"auth-page-footer\">\n        <p>&copy; 2024 EventSync. All rights reserved.</p>\n      </div>\n    </div>\n  );\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,OAASC,OAAO,KAAQ,yBAAyB,CACjD,OAASC,SAAS,KAAQ,8BAA8B,CACxD,OAASC,YAAY,KAAQ,iCAAiC,CAC9D,MAAO,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAIxB,MAAO,SAAS,CAAAC,QAAQA,CAAA,CAAG,KAAAC,eAAA,CAAAC,oBAAA,CACzB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGf,QAAQ,CAAW,OAAO,CAAC,CACnD,KAAM,CAAEgB,eAAgB,CAAC,CAAGZ,OAAO,CAAC,CAAC,CACrC,KAAM,CAAAa,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAgB,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAAAgB,IAAI,CAAG,EAAAP,eAAA,CAACM,QAAQ,CAACE,KAAK,UAAAR,eAAA,kBAAAC,oBAAA,CAAfD,eAAA,CAAyBO,IAAI,UAAAN,oBAAA,iBAA7BA,oBAAA,CAA+BQ,QAAQ,GAAI,YAAY,CAEpE;AACApB,SAAS,CAAC,IAAM,CACd,GAAIe,eAAe,CAAE,CACnBC,QAAQ,CAACE,IAAI,CAAE,CAAEG,OAAO,CAAE,IAAK,CAAC,CAAC,CACnC,CACF,CAAC,CAAE,CAACN,eAAe,CAAEC,QAAQ,CAAEE,IAAI,CAAC,CAAC,CAErC,KAAM,CAAAI,iBAAiB,CAAGA,CAAA,GAAM,CAC9BN,QAAQ,CAACE,IAAI,CAAE,CAAEG,OAAO,CAAE,IAAK,CAAC,CAAC,CACnC,CAAC,CAED,KAAM,CAAAE,sBAAsB,CAAGA,CAAA,GAAM,CACnCT,OAAO,CAAC,UAAU,CAAC,CACrB,CAAC,CAED,KAAM,CAAAU,mBAAmB,CAAGA,CAAA,GAAM,CAChCV,OAAO,CAAC,OAAO,CAAC,CAClB,CAAC,CAED,mBACEL,KAAA,QAAKgB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBnB,IAAA,QAAKkB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BjB,KAAA,QAAKgB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BnB,IAAA,OAAAmB,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBnB,IAAA,MAAAmB,QAAA,CAAG,wCAAsC,CAAG,CAAC,EAC1C,CAAC,CACH,CAAC,cAENnB,IAAA,QAAKkB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAC/Bb,IAAI,GAAK,OAAO,cACfN,IAAA,CAACH,SAAS,EACRuB,SAAS,CAAEL,iBAAkB,CAC7BM,kBAAkB,CAAEL,sBAAuB,CAC5C,CAAC,cAEFhB,IAAA,CAACF,YAAY,EACXsB,SAAS,CAAEL,iBAAkB,CAC7BO,eAAe,CAAEL,mBAAoB,CACtC,CACF,CACE,CAAC,cAENjB,IAAA,QAAKkB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BnB,IAAA,MAAAmB,QAAA,CAAG,2CAA2C,CAAG,CAAC,CAC/C,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}