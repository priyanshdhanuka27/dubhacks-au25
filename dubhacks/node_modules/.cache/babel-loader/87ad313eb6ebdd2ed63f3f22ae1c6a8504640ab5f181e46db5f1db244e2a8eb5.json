{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate,useLocation}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{LoginForm}from'../components/auth/LoginForm';import{RegisterForm}from'../components/auth/RegisterForm';import'./AuthPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function AuthPage(){var _location$state,_location$state$from;const[mode,setMode]=useState('login');const{isAuthenticated}=useAuth();const navigate=useNavigate();const location=useLocation();// Get the intended destination from location state\nconst from=((_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||'/dashboard';// Redirect if already authenticated\nuseEffect(()=>{if(isAuthenticated){navigate(from,{replace:true});}},[isAuthenticated,navigate,from]);const handleAuthSuccess=()=>{navigate(from,{replace:true});};const handleSwitchToRegister=()=>{setMode('register');};const handleSwitchToLogin=()=>{setMode('login');};return/*#__PURE__*/_jsxs(\"div\",{className:\"auth-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"auth-page-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-page-logo\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"EventSync\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Discover events with AI-powered search\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-page-content\",children:mode==='login'?/*#__PURE__*/_jsx(LoginForm,{onSuccess:handleAuthSuccess,onSwitchToRegister:handleSwitchToRegister}):/*#__PURE__*/_jsx(RegisterForm,{onSuccess:handleAuthSuccess,onSwitchToLogin:handleSwitchToLogin})}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-page-footer\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\xA9 2024 EventSync. All rights reserved.\"})})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}