{"ast":null,"code":"import React,{useState}from'react';import{EventCard}from'./EventCard';import{FilterPanel}from'./FilterPanel';import'./SearchComponents.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const EventFeed=_ref=>{let{events,loading=false,error=null,onLoadMore,hasMore=false,onEventSave,onEventCalendarAdd,showFilters=false,filters,onFiltersChange,emptyMessage='No events found'}=_ref;const[sortBy,setSortBy]=useState('relevance');const[viewMode,setViewMode]=useState('grid');const sortedEvents=React.useMemo(()=>{const sorted=[...events];switch(sortBy){case'date':return sorted.sort((a,b)=>new Date(a.startDateTime).getTime()-new Date(b.startDateTime).getTime());case'relevance':return sorted.sort((a,b)=>b.relevanceScore-a.relevanceScore);case'distance':// For now, just sort by relevance since we don't have distance data\nreturn sorted.sort((a,b)=>b.relevanceScore-a.relevanceScore);default:return sorted;}},[events,sortBy]);if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"event-feed-error\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"error-icon\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Something went wrong\"}),/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"retry-btn\",children:\"Try Again\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"event-feed\",children:[showFilters&&filters&&onFiltersChange&&/*#__PURE__*/_jsx(FilterPanel,{filters:filters,onFiltersChange:onFiltersChange}),/*#__PURE__*/_jsxs(\"div\",{className:\"feed-controls\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"results-info\",children:events.length>0&&/*#__PURE__*/_jsxs(\"span\",{children:[events.length,\" event\",events.length!==1?'s':'',\" found\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"feed-actions\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sort-controls\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"sort-select\",children:\"Sort by:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"sort-select\",value:sortBy,onChange:e=>setSortBy(e.target.value),className:\"sort-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"relevance\",children:\"Relevance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"date\",children:\"Date\"}),/*#__PURE__*/_jsx(\"option\",{value:\"distance\",children:\"Distance\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"view-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"view-btn \".concat(viewMode==='grid'?'active':''),onClick:()=>setViewMode('grid'),title:\"Grid view\",children:\"\\u229E\"}),/*#__PURE__*/_jsx(\"button\",{className:\"view-btn \".concat(viewMode==='list'?'active':''),onClick:()=>setViewMode('list'),title:\"List view\",children:\"\\u2630\"})]})]})]}),loading&&events.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"feed-loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Finding events for you...\"})]}):events.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"feed-empty\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"No events found\"}),/*#__PURE__*/_jsx(\"p\",{children:emptyMessage})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"events-container \".concat(viewMode),children:sortedEvents.map(event=>/*#__PURE__*/_jsx(EventCard,{event:event,onSave:onEventSave,onCalendarAdd:onEventCalendarAdd,viewMode:viewMode},event.eventId))}),loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"feed-loading-more\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner small\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Loading more events...\"})]}),hasMore&&!loading&&onLoadMore&&/*#__PURE__*/_jsx(\"div\",{className:\"load-more-container\",children:/*#__PURE__*/_jsx(\"button\",{onClick:onLoadMore,className:\"load-more-btn\",children:\"Load More Events\"})})]})]});};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}